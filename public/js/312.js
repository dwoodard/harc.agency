"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[312,897],{2313:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(1519),a=n.n(i)()((function(e){return e[1]}));a.push([e.id,".menu-items .v-expansion-panel-header__icon{margin-left:-1rem;order:-1;padding-right:1rem;position:relative}.actions{order:1}",""]);const l=a},448:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(1519),a=n.n(i)()((function(e){return e[1]}));a.push([e.id,".ghost[data-v-2644998d]{background-color:#dedede;border:1px dashed #ccc}.selected[data-v-2644998d]{background:linear-gradient(90deg,#f5f5f5,#f5f5f5)}.flip-list-move[data-v-2644998d]{transition:all .5s}",""]);const l=a},4086:(e,t,n)=>{n.d(t,{Z:()=>u});var i=n(8050),a=n(7215),l=n(9669),s=n.n(l);const o={name:"AdminNav",data:function(){var e,t;return{sidebarDrawer:!0,isSidebarClosed:null===(e=this.$page.props.auth.user.data.settings)||void 0===e||null===(t=e.adminNav)||void 0===t?void 0:t.isSidebarClosed,items:[{title:"Users",link:"/admin/users",icon:"mdi-account"},{title:"Pages",link:"/admin/pages",icon:"mdi-file-document-multiple-outline"},{title:"Menus",link:"/admin/menus",icon:"mdi-microsoft-xbox-controller-menu"},{title:"Forms",link:"/admin/forms",icon:"mdi-form-textbox"},{title:"SEO",link:"/admin/seo",icon:"mdi-file-find"},{title:"Settings",link:"/admin/site-settings",icon:"mdi-card-bulleted-settings-outline"}]}},computed:{mini:{get:function(){return(this.isSidebarClosed||this.$vuetify.breakpoint.smAndDown)&&this.isSidebarClosed},set:function(e){return e}}},watch:{isSidebarClosed:function(e){s().post("/user-settings",{"adminNav.isSidebarClosed":e})}}};var r=n(1900);const c={data:function(){return{}},components:{AdminNav:(0,r.Z)(o,(function(){var e=this,t=e._self._c;return t("v-navigation-drawer",{attrs:{"mini-variant":e.mini,app:"",dark:"",permanent:"",stateless:"",clipped:""},on:{"update:miniVariant":function(t){e.mini=t},"update:mini-variant":function(t){e.mini=t}},model:{value:e.sidebarDrawer,callback:function(t){e.sidebarDrawer=t},expression:"sidebarDrawer"}},[t("v-list",{attrs:{dense:"",flat:"",outlined:""}},[t("v-list-item",{staticClass:"pointer",on:{click:function(t){e.isSidebarClosed=!e.isSidebarClosed}}},[e.mini?t("v-icon",[e._v("mdi-menu-open mdi-rotate-180")]):t("v-icon",[e._v("mdi-menu-open")])],1),e._v(" "),e._l(e.items,(function(n){return t("div",{key:n.title,staticClass:"pointer"},[n.items?t("v-list-group",{attrs:{"prepend-icon":n.icon},scopedSlots:e._u([{key:"activator",fn:function(){return[t("v-list-item-content",[t("v-list-item-title",[t("inertia-link",{attrs:{href:n.link||"",as:"span"}},[e._v(e._s(n.title))])],1)],1)]},proxy:!0},{key:"default",fn:function(){return e._l(n.items,(function(n){return t("v-list-item",{key:n.title,staticClass:"grey darken-1"},[n.link?t("inertia-link",{attrs:{as:"div",href:n.link}},[t("span",[e._v(e._s(n.title))])]):t("v-list-item-content",[t("v-list-item-title",{domProps:{textContent:e._s(n.title)}})],1)],1)}))},proxy:!0}],null,!0),model:{value:n.active,callback:function(t){e.$set(n,"active",t)},expression:"item.active"}}):t("inertia-link",{staticClass:"pointer",attrs:{href:n.link||"",as:"span"}},[t("v-list-item",[t("v-list-item-icon",[t("v-icon",{domProps:{textContent:e._s(n.icon)}})],1),e._v(" "),t("v-list-item-content",[t("v-list-item-title",[e._v("\n              "+e._s(n.title)+"\n            ")])],1)],1)],1)],1)}))],2)],1)}),[],!1,null,null,null).exports,MainNav:a.Z,ProfileMenu:i.Z}};const u=(0,r.Z)(c,(function(){var e=this,t=e._self._c;return t("div",[t("v-app",[t("v-app-bar",{attrs:{"clipped-left":"",app:""}},[t("MainNav"),e._v(" "),t("v-spacer"),e._v(" "),t("ProfileMenu")],1),e._v(" "),t("AdminNav"),e._v(" "),t("v-main",{staticClass:"warm"},[e._t("default")],2)],1),e._v(" "),t("portal-target",{attrs:{name:"modals",multiple:""}})],1)}),[],!1,null,null,null).exports},7897:(e,t,n)=>{n.r(t),n.d(t,{default:()=>r});const i={name:"MenuItems",props:{item:{type:Object,required:!0},readonly:{type:Boolean}},data:function(){return{menu:null,itemLocal:this.item}},methods:{updateItem:function(){this.$emit("update-item",this.itemLocal)},deleteItem:function(){this.$emit("delete-item",this.itemLocal)},onIconChanged:function(e){this.itemLocal.icon=e}}};var a=n(3379),l=n.n(a),s=n(2313),o={insert:"head",singleton:!1};l()(s.Z,o);s.Z.locals;const r=(0,n(1900).Z)(i,(function(){var e=this,t=e._self._c;return t("v-expansion-panel",{staticClass:"sortable menu-items",attrs:{readonly:e.readonly,disabled:e.readonly}},[t("v-expansion-panel-header",{staticClass:"flex",scopedSlots:e._u([{key:"default",fn:function(){return[t("div",{staticClass:"d-flex justify-space-between"},[t("div",{staticClass:"flex-grow-1"},[t("span",{staticClass:"handle"},[t("v-icon",[e._v("mdi-drag-vertical")])],1),e._v(" "),t("span",[t("v-icon",[e._v(e._s(e.item.icon))])],1),e._v(" "),t("span",[e._v("\n            "+e._s(e.item.title)+"\n          ")])]),e._v(" "),t("div",{staticClass:"text-right"},[t("v-menu",{directives:[{name:"show",rawName:"v-show",value:!e.readonly,expression:"!readonly"}],attrs:{"nudge-width":200,"offset-x":"","close-on-content-click":!1},scopedSlots:e._u([{key:"activator",fn:function(n){var i=n.on,a=n.attrs;return[t("v-tooltip",e._g(e._b({directives:[{name:"show",rawName:"v-show",value:!e.readonly,expression:"!readonly"}],attrs:{right:""},scopedSlots:e._u([{key:"activator",fn:function(n){n.on,n.tooltip;return[t("v-icon",e._g(e._b({directives:[{name:"show",rawName:"v-show",value:!e.readonly,expression:"!readonly"}]},"v-icon",a,!1),i),[e._v("\n                    mdi-dots-horizontal\n                  ")])]}}],null,!0)},"v-tooltip",a,!1),i),[e._v(" "),t("span",[e._v("More")])])]}}]),model:{value:e.menu,callback:function(t){e.menu=t},expression:"menu"}},[e._v(" "),t("v-list",{attrs:{dense:""}},[t("v-list-item",[t("v-switch",{attrs:{label:"Show Icon"},model:{value:e.itemLocal.show_icon,callback:function(t){e.$set(e.itemLocal,"show_icon",t)},expression:"itemLocal.show_icon"}})],1),e._v(" "),t("v-list-item",[t("v-switch",{attrs:{label:"Admin Only"},model:{value:e.itemLocal.admin,callback:function(t){e.$set(e.itemLocal,"admin",t)},expression:"itemLocal.admin"}})],1),e._v(" "),t("v-list-item",[t("v-switch",{attrs:{label:"Hide Link"},model:{value:e.itemLocal.hide_link,callback:function(t){e.$set(e.itemLocal,"hide_link",t)},expression:"itemLocal.hide_link"}})],1),e._v(" "),t("v-divider"),e._v(" "),t("v-list-item",{attrs:{"two-line":""},on:{click:function(t){return e.deleteItem(e.item)}}},[t("v-list-item-content",[t("v-list-item-title",[t("v-icon",[e._v("mdi-delete")]),e._v("\n                    Delete\n                  ")],1),e._v(" "),t("v-list-item-subtitle",[e._v("\n                    Delete this menu item\n                  ")])],1)],1)],1)],1)],1)])]},proxy:!0}])}),e._v(" "),t("v-expansion-panel-content",[t("v-row",[t("v-col",{attrs:{cols:"12",md:"6"}},[t("v-text-field",{attrs:{hint:"Title of the menu",label:"Title"},model:{value:e.itemLocal.title,callback:function(t){e.$set(e.itemLocal,"title",t)},expression:"itemLocal.title"}})],1),e._v(" "),t("v-col",{attrs:{cols:"12",md:"6"}},[t("v-text-field",{attrs:{hint:"Icon is MDI icon name, use the finder link to find more icons","prepend-icon":e.itemLocal.icon,label:"Icon"},scopedSlots:e._u([{key:"append-outer",fn:function(){return[t("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(n){var i=n.on;return[t("a",{attrs:{href:"https://pictogrammers.github.io/@mdi/font/5.9.55/",target:"_blank"}},[t("v-icon",e._g({},i),[e._v("mdi-open-in-new")])],1)]}}])},[e._v(" "),t("span",[e._v("Find Icons")])])]},proxy:!0}]),model:{value:e.itemLocal.icon,callback:function(t){e.$set(e.itemLocal,"icon",t)},expression:"itemLocal.icon"}})],1)],1),e._v(" "),t("v-row",[t("v-col",{attrs:{cols:"12",md:"10"}},["internal"===e.itemLocal.type?t("v-text-field",{attrs:{hint:"relative path to the page (ex: /about)",label:"Internal Link"},model:{value:e.itemLocal.link,callback:function(t){e.$set(e.itemLocal,"link",t)},expression:"itemLocal.link"}}):e._e(),e._v(" "),"external"===e.itemLocal.type?t("v-text-field",{attrs:{hint:"External link start with https://",label:"External Link"},model:{value:e.itemLocal.link,callback:function(t){e.$set(e.itemLocal,"link",t)},expression:"itemLocal.link"}}):e._e()],1),e._v(" "),t("v-col",{attrs:{cols:"12",md:"2"}},[t("v-switch",{attrs:{"true-value":"external","false-value":"internal"},model:{value:e.itemLocal.type,callback:function(t){e.$set(e.itemLocal,"type",t)},expression:"itemLocal.type"}})],1)],1),e._v(" "),"external"===e.itemLocal.type?t("v-row",[t("v-col",{attrs:{cols:"12",md:"6"}},[t("v-select",{attrs:{hint:"_self"===e.itemLocal.target?"Open in same tab":"Open in new tab","persistent-hint":"",items:[{text:"self",value:"_self"},{text:"blank",value:"_blank"}],label:"Target"},model:{value:e.itemLocal.target,callback:function(t){e.$set(e.itemLocal,"target",t)},expression:"itemLocal.target"}})],1)],1):e._e()],1)],1)}),[],!1,null,null,null).exports},1312:(e,t,n)=>{n.r(t),n.d(t,{default:()=>f});var i=n(9980),a=n.n(i),l=n(4086),s=n(7897);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const u={layout:l.Z,props:{menus:{type:Array,default:function(){return[]}},pages:{type:Array,default:function(){return[]}}},data:function(){return{openedMenuPanels:[],before:null,editing:!1,pageSearch:"",itemSearch:"",selectedMenu:null,pagesLocal:this.pages,menusLocal:this.$inertia.form(r({},this.menus))}},computed:{selectedMenuItems:function(){var e;return null===(e=this.selectedMenu)||void 0===e?void 0:e.items}},methods:{changeMenu:function(e){this.selectedMenu=e},filterPagesLocal:function(){var e=this;this.pagesLocal=this.pages.filter((function(t){var n,i;return!e.pageSearch||(null===(n=t.title)||void 0===n?void 0:n.toLowerCase().includes(null===(i=e.pageSearch)||void 0===i?void 0:i.toLowerCase()))}))},clonePage:function(e){return{icon:"",link:"/".concat(e.link),type:"internal",admin:!1,order:0,title:e.title,target:"_self",hide_link:!1,show_icon:!0}},action:function(e){var t=this;"edit"===e&&(this.editing=!0,this.before=JSON.parse(JSON.stringify(this.selectedMenu))),"cancel"===e&&(this.editing=!1,this.selectedMenu=this.before,this.before=null),"save"===e&&(this.editing=!1,this.selectedMenu.items.forEach((function(e,t){e.order=t})),this.$inertia.put("/admin/menus/".concat(this.selectedMenu.id),this.selectedMenu,{onSuccess:function(){return t.menusLocal.reset()}})),"cancel"!==e&&"save"!==e||(this.openedMenuPanels=[])},log:function(e){window.console.log(e)},updateItem:function(e){this.selectedMenu.items=this.selectedMenu.items.map((function(t){return t.id===e.id?e:t}))},deleteItem:function(e){this.selectedMenu.items.splice(e,1)}},mounted:function(){this.selectedMenu=this.menusLocal[0]},components:{draggable:a(),MenuItems:s.default}};var d=n(3379),v=n.n(d),m=n(448),p={insert:"head",singleton:!1};v()(m.Z,p);m.Z.locals;const f=(0,n(1900).Z)(u,(function(){var e,t=this,n=t._self._c;return n("v-container",{attrs:{fluid:""}},[n("v-toolbar",{attrs:{color:"primary"}},[n("v-toolbar-title",[t._v("Menus")])],1),t._v(" "),n("v-toolbar",{staticClass:"mb-3",attrs:{dense:"",elevation:"1"}},[n("v-toolbar-items",[n("v-select",{attrs:{items:t.menus,label:"Menu","item-text":"title","single-line":"","item-value":function(e){return e}},on:{change:t.changeMenu},model:{value:t.selectedMenu,callback:function(e){t.selectedMenu=e},expression:"selectedMenu"}})],1)],1),t._v(" "),n("v-row",[n("v-col",{attrs:{cols:"12",md:"6"}},[n("v-card",[n("v-card-title",[t._v("Menu "),t.selectedMenu?n("span",[t._v(" ("+t._s(null===(e=t.selectedMenu)||void 0===e?void 0:e.title)+")")]):t._e()]),t._v(" "),n("v-card-text",[n("v-toolbar",{staticClass:"mb-2",attrs:{color:"primary"}},[n("v-toolbar-title",[t._v("Items")]),t._v(" "),n("v-spacer"),t._v(" "),t.editing?t._e():n("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on,a=e.attrs;return[n("v-btn",t._g(t._b({attrs:{icon:""},on:{click:function(e){return t.action("edit")}}},"v-btn",a,!1),i),[n("v-icon",{class:{"animate__animated animate__tada animate__infinite animate__slow  ":!t.menusLocal.isDirty}},[t._v("\n                    mdi-pencil\n                  ")])],1)]}}],null,!1,2486134183)},[t._v(" "),n("span",[t._v("\n                Edit\n              ")])]),t._v(" "),t.editing?n("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on,a=e.attrs;return[n("v-btn",t._g(t._b({attrs:{icon:""},on:{click:function(e){return t.action("save")}}},"v-btn",a,!1),i),[n("v-icon",{class:{"mdi-48px animate__animated animate__bounceIn animate__slower":t.menusLocal.isDirty}},[t._v("\n                    mdi-check\n                  ")])],1)]}}],null,!1,3320051356)},[t._v(" "),n("span",[t._v("\n                Save\n              ")])]):t._e(),t._v(" "),t.editing?n("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on,a=e.attrs;return[n("v-btn",t._g(t._b({attrs:{icon:""},on:{click:function(e){return t.action("cancel")}}},"v-btn",a,!1),i),[n("v-icon",[t._v("mdi-close")])],1)]}}],null,!1,2868584296)},[t._v(" "),n("span",[t._v("\n                Cancel\n              ")])]):t._e()],1),t._v(" "),n("v-expansion-panels",{attrs:{disabled:!t.editing,accordion:""},model:{value:t.openedMenuPanels,callback:function(e){t.openedMenuPanels=e},expression:"openedMenuPanels"}},[[n("draggable",{staticClass:"flex-grow-1",attrs:{list:t.selectedMenuItems,group:"menuItems",handle:".handle","item-key":"id"}},t._l(t.selectedMenuItems,(function(e,i){return n("MenuItems",{key:"item-".concat(i),attrs:{item:e,readonly:!t.editing},on:{"update-item":t.updateItem,"delete-item":function(e){return t.deleteItem(i)}}})})),1)]],2)],1)],1)],1),t._v(" "),n("v-col",{attrs:{cols:"12",md:"6"}},[t.editing?n("v-card",[n("v-card-title",[t._v("Pages")]),t._v(" "),n("v-card-text",[n("v-text-field",{attrs:{"single-line":"",label:"Filter Pages",clearable:""},on:{input:t.filterPagesLocal},scopedSlots:t._u([{key:"append",fn:function(){return[n("v-icon",[t._v("mdi-magnify")])]},proxy:!0}],null,!1,1510278474),model:{value:t.pageSearch,callback:function(e){t.pageSearch=e},expression:"pageSearch"}}),t._v(" "),n("draggable",{staticClass:"dragArea list-group",attrs:{group:{name:"menuItems",pull:"clone",put:!1},multiple:"","ghost-class":"ghost","selected-class":"selected",clone:t.clonePage},on:{change:t.log},model:{value:t.pagesLocal,callback:function(e){t.pagesLocal=e},expression:"pagesLocal"}},[n("transition-group",{attrs:{group:"pageList",name:"flip-list",tag:"div",type:"transition"}},t._l(t.pagesLocal,(function(e){return n("div",{key:e.id,staticClass:"sortable",attrs:{id:e.id}},[n("span",{staticClass:"handle"},[n("v-icon",[t._v("mdi-drag-vertical")])],1),t._v("\n                "+t._s(e.title)+"\n              ")])})),0)],1)],1)],1):t._e()],1)],1)],1)}),[],!1,null,"2644998d",null).exports}}]);